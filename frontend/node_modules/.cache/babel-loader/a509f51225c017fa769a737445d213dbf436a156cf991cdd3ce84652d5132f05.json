{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arnav\\\\IdeaProjects\\\\Adore\\\\React_online_Store\\\\frontend\\\\src\\\\pages\\\\TicketForm.js\",\n  _s = $RefreshSig$();\nimport { Form, useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport classes from './TicketForm.module.css';\nimport { useState, useContext } from 'react';\nimport { AuthContext } from '../Context/auth-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TicketForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    token,\n    isLoggedIn,\n    isAdmin,\n    superAdmin,\n    userId\n  } = useContext(AuthContext);\n  const resetHandler = () => {\n    navigate('/');\n  };\n  const submitHandler = async data => {\n    console.log(data);\n    const currentDate = new Date().toISOString();\n    const message = {\n      text: data.description,\n      timeStamp: currentDate,\n      sender: userId\n    };\n    const response = fetch('http://localhost:3000/tickets', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      },\n      body: {}\n    });\n    console.log(response);\n  };\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors,\n      isSubmitting\n    },\n    reset\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.fields,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"subject\",\n        children: \"Subject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"subject\",\n        type: \"text\",\n        name: \"subject\",\n        ...register(\"subject\", {\n          required: \"Subject is required.\"\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), errors.subject && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"errorMsg\",\n        children: errors.subject.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.fields,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        name: \"description\",\n        rows: \"10\",\n        ...register(\"description\", {\n          required: \"Description is required.\"\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"errorMsg\",\n        children: errors.description.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes.button,\n        type: \"reset\",\n        onClick: resetHandler,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes.button,\n        type: \"submit\",\n        children: isSubmitting ? 'Submitting' : 'Proceed'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(TicketForm, \"w4lVC1BFr0y+IrMh8UJAvKKLBrw=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = TicketForm;\nexport default TicketForm;\nvar _c;\n$RefreshReg$(_c, \"TicketForm\");","map":{"version":3,"names":["Form","useNavigate","useForm","classes","useState","useContext","AuthContext","jsxDEV","_jsxDEV","TicketForm","_s","navigate","token","isLoggedIn","isAdmin","superAdmin","userId","resetHandler","submitHandler","data","console","log","currentDate","Date","toISOString","message","text","description","timeStamp","sender","response","fetch","method","headers","body","register","handleSubmit","formState","errors","isSubmitting","reset","children","className","fields","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","name","required","subject","rows","style","marginTop","button","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Arnav/IdeaProjects/Adore/React_online_Store/frontend/src/pages/TicketForm.js"],"sourcesContent":["import {Form, useNavigate} from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport classes from './TicketForm.module.css';\r\nimport {useState, useContext} from 'react';\r\nimport {AuthContext} from '../Context/auth-context';\r\n\r\nconst TicketForm=()=>{\r\n    const navigate= useNavigate();\r\n    const {token, isLoggedIn, isAdmin, superAdmin, userId}=useContext(AuthContext);\r\n\r\n    const resetHandler=()=>{\r\n        navigate('/');\r\n   };\r\n   const submitHandler=async(data)=>{\r\n    console.log(data);\r\n    const currentDate = new Date().toISOString();\r\n    const message={text:data.description,timeStamp:currentDate,sender:userId}\r\n    const response=fetch('http://localhost:3000/tickets',{\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type':'application/json',\r\n                     'Authorization':'Bearer '+ token},\r\n                 body:{}\r\n                });\r\n\r\n        console.log(response);\r\n    };\r\n\r\n   const {\r\n       register,\r\n       handleSubmit,\r\n       formState: { errors, isSubmitting },\r\n       reset\r\n     } = useForm();\r\n\r\nreturn(\r\n    <div>\r\n      <div className={classes.fields}>\r\n        <label htmlFor=\"subject\">Subject</label>\r\n        <input id=\"subject\" type=\"text\" name=\"subject\"\r\n        {...register(\"subject\", {\r\n              required: \"Subject is required.\",\r\n\r\n            })}\r\n          />\r\n        {errors.subject && <p className=\"errorMsg\">{errors.subject.message}</p>}\r\n      </div>\r\n      <div className={classes.fields}>\r\n        <label htmlFor=\"description\">Description</label>\r\n        <textarea id=\"description\" name=\"description\" rows=\"10\"\r\n        {...register(\"description\", {\r\n              required: \"Description is required.\",\r\n\r\n            })}\r\n          />\r\n        {errors.description && <p className=\"errorMsg\">{errors.description.message}</p>}\r\n      </div>\r\n      <div style={{marginTop:'20px'}}>\r\n       <button className={classes.button} type=\"reset\" onClick={resetHandler}>\r\n         Cancel\r\n       </button>\r\n       <button className={classes.button} type=\"submit\" >\r\n         {isSubmitting? 'Submitting': 'Proceed'}\r\n       </button>\r\n      </div>\r\n  </div>);\r\n}\r\nexport default TicketForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}