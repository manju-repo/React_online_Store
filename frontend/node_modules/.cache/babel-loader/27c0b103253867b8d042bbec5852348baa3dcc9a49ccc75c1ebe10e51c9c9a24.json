{"ast":null,"code":"var _jsxFileName = \"C:\\\\manjusha\\\\React\\\\12-adv-starting-project\\\\frontend\\\\src\\\\components\\\\wishlist.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useContext, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport classes from './wishlist.module.css';\nimport Card from './card';\nimport { useNavigate, NavLink } from 'react-router-dom';\nimport Modal from './Modal';\nimport Notification from './notification';\nimport { WishlistContext } from '../Context/wishlist-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WishlistPage = () => {\n  _s();\n  const {\n    wishlist,\n    updateWishlist\n  } = useContext(WishlistContext);\n  console.log(wishlist);\n  const [wishlistItems, setWishlistItems] = useState([]);\n  //const showCart = useSelector((state) => state.ui.cartIsVisible);\n  const notification = useSelector(state => state.ui.notification);\n  const modal = useRef();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchWishlistItems = async () => {\n      console.log(wishlist);\n      if (!wishlist) return null;\n      const promises = wishlist.map(async wishlistId => {\n        try {\n          const response = await fetch('http://localhost:5000/fabrics/' + wishlistId);\n          if (!response.ok) {\n            throw Error('Could not load selected fabric');\n          }\n          return await response.json();\n        } catch (error) {\n          console.log(error);\n          return null;\n        }\n      });\n      const wishlistResp = await Promise.all(promises);\n      if (wishlistResp.length !== 0) setWishlistItems(wishlistResp.filter(item => item !== null));else setWishlistItems([]);\n    };\n    if (wishlist.length > 0) {\n      fetchWishlistItems();\n      modal.current.open();\n    } else navigate('/');\n  }, [wishlist]);\n  function handleReset() {\n    modal.current.close();\n    navigate('/');\n  }\n  const removeFromWishlist = (id, event) => {\n    event.preventDefault();\n    let newWishlist = [...wishlist];\n    newWishlist = wishlist.filter(item => item !== id);\n    localStorage.setItem(\"Wishlist\", JSON.stringify(newWishlist));\n    updateWishlist(newWishlist);\n    console.log(newWishlist, wishlist);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      ref: modal,\n      onReset: handleReset,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Wishlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.container,\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: classes.gallery,\n          children: wishlistItems.length && wishlistItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: classes.item,\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              to: {\n                pathname: `/fabrics/${item._id}/${item.category}`\n              },\n              className: ({\n                isActive\n              }) => isActive ? classes.active : undefined,\n              end: true,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  textAlign: 'center'\n                },\n                children: [item.category.toLowerCase() === 'fabrics' && /*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: '200px',\n                    height: '200px',\n                    align: 'center'\n                  },\n                  src: item.image,\n                  alt: \"Cinque Terre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 57\n                }, this), item.category.toLowerCase() !== 'fabrics' && /*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: '200px',\n                    height: '200px',\n                    align: 'center'\n                  },\n                  src: item.image,\n                  alt: \"Cinque Terre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 57\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.desc,\n                  children: item.desc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: event => removeFromWishlist(item._id, event),\n                    style: {\n                      width: '100px'\n                    },\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 18\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa-regular fa-trash-can\",\n                    onClick: () => removeEntryHandler(item._id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 18\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 13\n            }, this)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: classes.button,\n            onClick: handleReset,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(WishlistPage, \"zcoyTSneaJ6ImpOEwqdMyrV1O+I=\", false, function () {\n  return [useSelector, useNavigate];\n});\n_c = WishlistPage;\nexport default WishlistPage;\nvar _c;\n$RefreshReg$(_c, \"WishlistPage\");","map":{"version":3,"names":["useEffect","useRef","useContext","useState","useSelector","useDispatch","classes","Card","useNavigate","NavLink","Modal","Notification","WishlistContext","jsxDEV","_jsxDEV","Fragment","_Fragment","WishlistPage","_s","wishlist","updateWishlist","console","log","wishlistItems","setWishlistItems","notification","state","ui","modal","navigate","fetchWishlistItems","promises","map","wishlistId","response","fetch","ok","Error","json","error","wishlistResp","Promise","all","length","filter","item","current","open","handleReset","close","removeFromWishlist","id","event","preventDefault","newWishlist","localStorage","setItem","JSON","stringify","children","ref","onReset","fileName","_jsxFileName","lineNumber","columnNumber","className","container","gallery","to","pathname","_id","category","isActive","active","undefined","end","style","display","flexDirection","alignItems","textAlign","toLowerCase","width","height","align","src","image","alt","desc","onClick","removeEntryHandler","actions","button","_c","$RefreshReg$"],"sources":["C:/manjusha/React/12-adv-starting-project/frontend/src/components/wishlist.js"],"sourcesContent":["import {useEffect, useRef, useContext, useState} from 'react';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\nimport classes from './wishlist.module.css';\r\n\r\nimport Card from './card';\r\nimport {useNavigate,NavLink} from 'react-router-dom';\r\nimport Modal from './Modal';\r\nimport Notification from './notification';\r\n\r\nimport {WishlistContext} from '../Context/wishlist-context';\r\n\r\nconst WishlistPage=()=>{\r\n\r\n    const {wishlist, updateWishlist}=useContext(WishlistContext);\r\nconsole.log(wishlist);\r\n    const [wishlistItems,setWishlistItems]=useState([]);\r\n    //const showCart = useSelector((state) => state.ui.cartIsVisible);\r\n    const notification = useSelector((state) => state.ui.notification);\r\n    const modal=useRef();\r\n    const navigate=useNavigate();\r\n\r\n     useEffect(()=>{\r\n        const fetchWishlistItems=async()=>{\r\n            console.log(wishlist);\r\n            if(!wishlist) return null;\r\n            const promises=wishlist.map(async(wishlistId)=>{\r\n            try{\r\n                const response=await fetch('http://localhost:5000/fabrics/'+wishlistId);\r\n                if(! response.ok){\r\n                    throw Error('Could not load selected fabric');\r\n                }\r\n                return await response.json();\r\n            }\r\n            catch(error){\r\n                console.log(error);\r\n                return null\r\n            }\r\n          });\r\n               const wishlistResp = await Promise.all(promises);\r\n               if(wishlistResp.length!==0)\r\n                    setWishlistItems(wishlistResp.filter(item => item !== null));\r\n               else\r\n                    setWishlistItems([]);\r\n        }\r\n        if(wishlist.length>0){\r\n            fetchWishlistItems();\r\n            modal.current.open();\r\n        }\r\n         else\r\n            navigate('/');\r\n        }, [wishlist]);\r\n\r\n    function handleReset(){\r\n        modal.current.close();\r\n        navigate('/');\r\n     }\r\n\r\n     const removeFromWishlist=(id, event)=>{\r\n        event.preventDefault();\r\n         let newWishlist=[...wishlist]\r\n         newWishlist=wishlist.filter((item)=>item!==id);\r\n\r\n         localStorage.setItem(\"Wishlist\",JSON.stringify(newWishlist));\r\n         updateWishlist(newWishlist);\r\n         console.log(newWishlist, wishlist);\r\n      }\r\n\r\n       return(<>\r\n        <Modal ref={modal} onReset={handleReset} >\r\n\r\n        <h2>My Wishlist</h2>\r\n        <div  className={classes.container}>\r\n\r\n        <ul className={classes.gallery}>\r\n        { wishlistItems.length && wishlistItems.map((item)=>(\r\n            <li key={item._id} className={classes.item}>\r\n            <NavLink to={{pathname:`/fabrics/${item._id}/${item.category}` }}  className={({isActive})=>isActive?classes.active:undefined}end>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\r\n            {item.category.toLowerCase()==='fabrics' && <img style={{width:'200px',height:'200px',align:'center'}} src={item.image} alt=\"Cinque Terre\"/>}\r\n            {item.category.toLowerCase()!=='fabrics' && <img style={{width:'200px',height:'200px',align:'center'}} src={item.image} alt=\"Cinque Terre\"/>}\r\n            <div className={classes.desc}>{item.desc}</div>\r\n            <div><button onClick={(event)=>removeFromWishlist(item._id, event)} style={{width:'100px'}}>Remove</button></div>\r\n            <div><i className=\"fa-regular fa-trash-can\" onClick={()=>removeEntryHandler(item._id)}></i></div>\r\n            </div>\r\n            </NavLink>\r\n            </li>\r\n        ))}\r\n        </ul>\r\n        <div className={classes.actions}><button className={classes.button} onClick={handleReset}>Back</button></div>\r\n        </div>\r\n        </Modal>\r\n\r\n</>\r\n);\r\n\r\n }\r\n\r\n\r\n    export default WishlistPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}